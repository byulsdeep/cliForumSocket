2023-02-26 1일차
세미 프로젝트 연습 겸 쿵스보이 블로그를 보고 프로젝트 종목 중 첫번째인 CLI 게시판을 만들어보기로 했다.
인증 기능과 게시판 기능은 필수로 만들것이고, 여유되면 여러 기능을 추가하고 게시판이 아닌 커뮤니티 사이트로 만들 예정.

기능:
	인증, 유저 : 회원가입, 로그인, 마이페이지
	커뮤니티 : 게시판 열람, 댓글 작성, 게시글 삭제, 댓글 삭제
	
	여유 되면 추가 할 기능:
	회원탈퇴, 쪽지, 방명록, 회원밴, 채팅방 

공부해야 할 기술:
	FileReader/Writer: 모든 데이터를 영구보관 하기 위해 필요
	Socket: 채팅, 실시간 쪽지, 댓글, 게시판 확인 하기 위해 필요
	Thread: 특히 실시간 변화 조회하기 위해서 복잡하게 쓰일거 같음

패키지 부터 대충 만들어 놓고 틀 프로토타입 만들기 시작.
MVC 패턴으로 틀을 잡았고, 전에 하던 방식과 다르게 view도 객체화해서 코딩 해 볼 예정.

주 데이터 흐름:
유저 입력 > 컨트롤러 > 뷰 > 모델 > DAO

한일 목록:
PageUtils라는 클라스에 view에서 공통적으로 사용할 함수들 작성.
초기 FrontPage 작성.
회원가입 페이지로 이동, 종료 기능 구현.

학원, 집 왔다갔다 작업하기 위해 깃에 올려뒀다.
https://github.com/byulsdeep/cliForum

2023-02-27 2일차
회원가입 페이지에서 유저 정보 입력 받기 기능 추가
유효성 확인 어느정도 추가

2023-02-28 3일차
프로젝트 완성 기한은 다음주 수요일 (3월8일) 까지.
연습용으로 시작한 이 프로젝트를 제출용으로 완성할 예정.

DAO 틀 작성.
view에서 사용할 함수를 위한  PageUtils 클라스와 마찬가지로,
model에서 사용할 함수를 모아둘 ServiceUtils 클라스 작성.
model들과 view들의 규칙을 정의한 ModelRules와 ViewRules 인터페이스 추가.
FileReader를 이용한 아이디 중복 확인 기능 추가 
-> 첫번째 view-controller-model-database 풀 사이클 완성.
조우한 문제점:
	중복 확인 기능이 안됨:
		원인: 
			/database/users.txt 상대경로가 왜인지 작동이 안됨.
			catch문에 e.printStackTrace()를 안 써놓아서 오류 찾는데 오래걸림.
		해결:
			절대경로로 변경.
			String ap = new File("").getAbsolutePath();
			file = new File(ap + fileName);
	알 수 없는 sysout이 계속 출력됨:
		원인:
			controller의 switch문 break 안 걸은 항목이 있었음.
		해결:
			break;
			
점점 스케일이 커져서 생각보다 쉽지 않다.

2023-03-02 4,5일차
어제 부터 이틀간 밤샘작업 중
회원가입 유효성 확인 추가 등 마무리
회원가입하면서 만든 패턴으로 로그인도 마무리
PageUtils와 ServiceUtils 클라스 ProjectUtils로 통합
ViewRules -> PageRules, ModelRules -> ServiceRules로 이름변경
신규 클래스 :
	Authentication - 회원가입, 로그인 백엔드
	PostBean - 게시글 캡슐화용 클래스
	ForumPage - 게시판 프론트엔드
	Forum - 게시판 백엔드
신규 db :
	posts.txt - 게시판 db
게시판 글 쓰기, 글 목록 불러오기까지 완성
게시글 저장 양식:
	행당 한 게시글 정보
	열은 "|" 로 분리
	사용자가 입력한 "\n"는 "<newLine>"으로 저장하고
	불러올때 "\n"으로 replace 함
	Json 복습하기 귀찮아서 선택한 방식
배운점 : 
	BufferedWriter를 Writer 보다 먼저 close 해야한다.
	
2023-03-03 5,6일차
게시판 글 상세보기 완성
게시판 글 삭제하기 완성
삭제 로직:
	db에서 전부 읽어옴
	사용자가 삭제할 글 제외 나머지 글 다시 db에 씀
마이페이지 로그인 중 ID만 보이게 간단하게 완성
소켓과 스레드를 이용한 실시간 게시판 내용 변경 기능을 추가 하기위해
소켓과 스레드 공부 진행

배운점:
	파일리더와 라이터로 파일 접근 중일 때
	리더, 라이터 순차로 close하면 파일 내용 증발함

2023-03-04 7일차
공부를 하면서 드디어 프로세스가 머리속에 만들어짐.

기존 패턴: 
	뷰-컨트롤러-모델-DB - 스레드 1개
새 패턴   : 
	Server.java - 무한으로 연결요청 계속 받는 서버.
	FrongEnd.java - 서버에 연결요청을 하는 클라이언트.
	Controller.java - 서버에 연결되면 클라이언트에게 생성해주는 서비스 스레드

 	뷰-소켓-컨트롤러-모델-DB x n개 스레드 생성

로그아웃 기능도 적당히 구현 (통신x)

배운점:
	"\n"을 포함해서 전송하려면 PrintWriter는 안되고 DataOutputStream.writeUTF를 쓰면된다.
	스캐너의 nextInt 대신 nextLine을 쓰면 try catch를 줄일수 있다.
	스캐너 외에 InputStreamReader도 System.in을 파라미터로 넣으면 키보드 입력을 받을 수 있다.
할일:
	여러 클라이언트 연결중, 새로운 글이 올라오면 모든 클라이언트에게 그 메시지를 전송하는 로직을 만들 수 있을까?
	유사 ajax.
	FrontEnd 클래스 과부하. 가능하면 다른 클래스로 분산.
	DAO 함수 데이터 타입 정리.
	AuthBean 사용할만한 곳 찾아서 활용.

2023-03-04 7일차-2

유사 ajax는 포기. 
DAO 함수 나쁘지 않은듯. 
CommentBean 클래스 추가.
PostBean 안에 List<CommentBean>으로 들어감.
댓글 기능 추가
글 삭제하면 해당 글 댓글도 같이 삭제하게 업데이트

슬슬 여기서 마무리하기.

마지막 정리:
동시에 같은 값으로 요청시 예외처리
ex: 같은 아이디로 회원가입, 같은 글 번호로 게시글 등록
프로그램 끊기지 않도록 모든 예외 처리 - try catch 
디자인 업데이트

  
	
